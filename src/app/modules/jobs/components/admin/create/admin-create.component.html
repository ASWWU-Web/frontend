<div class="container" *ngIf="currentUser">
  <h1>New Application</h1>
  <label for="jobName">Job Name</label>
  <input type="text" class="form-control" id="jobName"
        required
        [(ngModel)]="jobName" name="jobName">

  <label for="jobDesc">Job description</label>
  <textarea type="text" class="form-control" id="jobDesc"
        required
        [(ngModel)]="jobDesc" name="jobDesc"></textarea>
        <small>The first line of the description will be what appears on the homepage.</small>
  <br />
  <label for="owner">Owner</label>
  <input type="text" class="form-control" id="owner" required [(ngModel)]="owner" name="owner">

  <label for="Department">Department</label>
  <div class="form-group">
      <select class="custom-select col col-sm-12" name="jobDesc" [(ngModel)]="department">
        <option selected [value]="''">Select a department...</option>
        <option [value]="'Executive'">Executive</option>
        <option [value]="'Senate'">Senate</option>
        <option [value]="'Social'">Social</option>
        <option [value]="'Spiritual'">Spiritual</option>
        <option [value]="'Global Service'">Global Service</option>
        <option [value]="'Marketing'">Marketing</option>
        <option [value]="'Web'">Web</option>
        <option [value]="'Collegian'">The Collegian</option>
        <option [value]="'Video'">Video</option>
        <option [value]="'Photo'">Photo</option>
        <option [value]="'Mountain Ash'">Mountain Ash</option>
        <option [value]="'Atlas'">The Atlas</option>
        <option [value]="'Tread Shed'">The Tread Shed</option>
        <option [value]="'Outdoors'">Outdoors</option>
        <option [value]="'Department Head'">Department Head</option>
      </select>
  </div>

  <label for="visibility">Visibility</label>
  <select class="form-control" [(ngModel)]="visibility">
    <option selected [value]="true"> Visible</option>
    <option [value]="false"> Hidden</option>
  </select>

  <label for="featured">Featured</label>
  <select class="form-control" [(ngModel)]="featured">
    <option selected [value]="false"> Not featured</option>
    <option [value]="true"> Featured</option>
  </select>

  <label for="imgLink">Image Link</label>
  <input type="text" class="form-control" id="imgLink" required [(ngModel)]="imgLink" name="imgLink">

  <label for="imgTest">Test Image</label>
  <img src="{{imgLink}}" name="imgTest" style="height:100px; width: auto;"/>


  <div *ngFor="let question of questions; let i = index;" class="form-group">
      <label for="{{i}}">Question {{i + 1}}</label>
      <textarea type="text" class="form-control" required [(ngModel)]="questions[i].question" name="{{i}}"></textarea>
      <button class="btn btn-danger" (click)="removeQuestion(i)">Remove Question</button>
  </div>

  <button class="btn btn-secondary"(click)="addQuestion()">Add a question</button>
  <button class="btn btn-success" (click)="submitForm()">Submit</button>
</div>

<div class="container" *ngIf="!currentUser">
  <p>This page can only be viewed by someone logged in, please click the button to log in:</p>
  <a class="btn btn-primary" [href]="buildLoginLink()">Log in</a>
</div>
